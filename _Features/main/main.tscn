[gd_scene load_steps=34 format=3 uid="uid://b3hl0t3spppnd"]

[ext_resource type="Script" path="res://_Features/foundation/scene_director.gd" id="1_6gnox"]
[ext_resource type="Script" path="res://_Features/audio/audio.gd" id="2_3jmlc"]
[ext_resource type="PackedScene" uid="uid://ccopiuj5gnm7m" path="res://_Features/UI/ui.tscn" id="2_7rttm"]
[ext_resource type="PackedScene" uid="uid://dpkgwkvewfmuh" path="res://_Features/player/player.tscn" id="2_bfl1y"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="2_hsqid"]
[ext_resource type="Shader" path="res://_Features/shaders/main.gdshader" id="2_o8u0n"]
[ext_resource type="AudioStream" uid="uid://cit1i7ncdx4f" path="res://_Features/audio/dream1.mp3" id="3_prhnp"]
[ext_resource type="PackedScene" uid="uid://bb43tlfgdsw7r" path="res://_Features/activables/tablet/tablet.tscn" id="4_nyxmf"]
[ext_resource type="PackedScene" uid="uid://daj1yi4q8q4f" path="res://_Features/rooms/living_room/living_room_i.tscn" id="4_og77x"]
[ext_resource type="AudioStream" uid="uid://c2gih22b1rxfb" path="res://_Features/audio/dream2.mp3" id="5_eo21i"]
[ext_resource type="AudioStream" uid="uid://bv1q0nrtlprpr" path="res://_Features/audio/dream4.mp3" id="6_qcnn2"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_3D.gd" id="6_v8ayd"]
[ext_resource type="AudioStream" uid="uid://cwe5fggyyhwa7" path="res://_Features/audio/dream6.mp3" id="7_dxmvt"]
[ext_resource type="AudioStream" uid="uid://bft0p6ghd8hu7" path="res://_Features/audio/dream8.mp3" id="7_x34ob"]
[ext_resource type="Script" path="res://_Features/rooms/moor_moor_gnivil/moor_gnivil.gd" id="8_ku7b2"]
[ext_resource type="AudioStream" uid="uid://tikf3g6hxf3j" path="res://_Features/audio/dream10.mp3" id="9_785vu"]
[ext_resource type="PackedScene" uid="uid://cb0311e3f7has" path="res://_Features/rooms/moor_moor_gnivil/moor_gnivil_i.tscn" id="9_iwvg8"]
[ext_resource type="Script" path="res://_Features/rooms/moor_moor_gnivil/nolas.gd" id="9_l32nb"]
[ext_resource type="AudioStream" uid="uid://byd5j83axjxbg" path="res://_Features/audio/dream11.mp3" id="10_pl0ge"]
[ext_resource type="PackedScene" uid="uid://c0bdwlue70wgp" path="res://_Features/rooms/setup/setup_i.tscn" id="11_qjeg8"]
[ext_resource type="AudioStream" uid="uid://m7oax2by6piw" path="res://_Features/audio/dream12.mp3" id="11_r4hg3"]
[ext_resource type="AudioStream" uid="uid://drmnieapiewxo" path="res://_Features/audio/despierta.mp3" id="12_bx7a7"]
[ext_resource type="AudioStream" uid="uid://b4x4go7yxbinu" path="res://_Features/audio/dream13.mp3" id="12_nchqr"]

[sub_resource type="Gradient" id="Gradient_n7fhn"]
colors = PackedColorArray(0, 0, 0, 1, 1, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_gteco"]
gradient = SubResource("Gradient_n7fhn")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yhrax"]
shader = ExtResource("2_o8u0n")
shader_parameter/overall_effect = 0.2
shader_parameter/pallete_effect = 0.2
shader_parameter/overall_brightness = -3.0
shader_parameter/scan_brightness = 1.0
shader_parameter/pallette_brightness = 1.0
shader_parameter/overlay = true
shader_parameter/scanlines_opacity = 0.559
shader_parameter/scanlines_width = 0.335
shader_parameter/grille_opacity = 0.181
shader_parameter/resolution = Vector2(640, 480)
shader_parameter/pixelate = false
shader_parameter/roll = true
shader_parameter/roll_speed = 0.2
shader_parameter/roll_size = 0.2
shader_parameter/roll_variation = 5.0
shader_parameter/distort_intensity = 0.017
shader_parameter/noise_opacity = 0.02
shader_parameter/noise_speed = 3.05
shader_parameter/static_noise_intensity = 0.091
shader_parameter/aberration = 4.75e-08
shader_parameter/discolor = true
shader_parameter/warp_amount = 0.006
shader_parameter/clip_warp = false
shader_parameter/vignette_intensity = 0.585
shader_parameter/vignette_opacity = 0.141
shader_parameter/pixel = 1.0
shader_parameter/pallete = SubResource("GradientTexture2D_gteco")

[sub_resource type="Environment" id="Environment_gtx4b"]
background_mode = 1
background_color = Color(0.2, 0.2, 0.2, 1)
fog_light_color = Color(1, 1, 1, 1)
fog_light_energy = 0.32
fog_density = 0.0025
volumetric_fog_density = 0.0

[sub_resource type="BoxShape3D" id="BoxShape3D_jau8k"]
size = Vector3(17.4316, 3.50208, 0.224121)

[sub_resource type="BoxShape3D" id="BoxShape3D_k34d7"]
size = Vector3(16.1826, 3.50208, 1.10425)

[sub_resource type="BoxShape3D" id="BoxShape3D_i8yqo"]
size = Vector3(0.220024, 3.50208, 13.9919)

[sub_resource type="BoxShape3D" id="BoxShape3D_q6i7a"]
size = Vector3(0.220024, 3.50208, 10.1202)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jw0lm"]
albedo_color = Color(0, 0, 0, 1)
emission_enabled = true
emission = Color(0.2, 0.2, 0.2, 1)
disable_receive_shadows = true

[sub_resource type="PlaneMesh" id="PlaneMesh_a8ryy"]
material = SubResource("StandardMaterial3D_jw0lm")
size = Vector2(10.605, 10.59)

[node name="Main" type="Node3D"]
script = ExtResource("1_6gnox")

[node name="Scan" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_yhrax")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 1, 1, 0)

[node name="Audio" type="Node" parent="."]
script = ExtResource("2_3jmlc")
song_layers = Array[AudioStream]([ExtResource("3_prhnp"), ExtResource("5_eo21i"), ExtResource("6_qcnn2"), ExtResource("7_dxmvt"), ExtResource("7_x34ob"), ExtResource("9_785vu"), ExtResource("10_pl0ge"), ExtResource("11_r4hg3"), ExtResource("12_nchqr")])

[node name="MainMusic" type="AudioStreamPlayer" parent="Audio"]

[node name="Plas" type="AudioStreamPlayer" parent="Audio"]
stream = ExtResource("12_bx7a7")
bus = &"DESPIERTA"

[node name="UI" parent="." instance=ExtResource("2_7rttm")]

[node name="CameraGroup" type="Node" parent="."]

[node name="Camera3D" type="Camera3D" parent="CameraGroup"]
transform = Transform3D(0.999997, 0, 0, 0, -4.3711e-08, 0.999996, 0, -0.999992, -4.37112e-08, -0.659527, 9.65312, -1.64795)
current = true
fov = 74.9436

[node name="PhantomCameraHost" type="Node" parent="CameraGroup/Camera3D"]
script = ExtResource("2_hsqid")

[node name="PhantomCamera3D" type="Node3D" parent="CameraGroup"]
transform = Transform3D(0.999997, 0, 0, 0, -4.3711e-08, 0.999996, 0, -0.999992, -4.37112e-08, -0.659527, 9.65312, -1.64795)
script = ExtResource("6_v8ayd")
priority_override = false
priority = 0
follow_mode = 2
follow_target = NodePath("../../Player")
follow_parameters/target_offset = Vector3(0, 9.655, 0)
follow_parameters/damping = true
follow_parameters/damping_value = 10.0
look_at_mode = 0
tween_parameters = null
tween_on_load = true
inactive_update_mode = 0
camera_3D_resource = null

[node name="Player" parent="." instance=ExtResource("2_bfl1y")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.659527, -0.00187541, -1.64795)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_gtx4b")

[node name="Stage" type="Node" parent="."]

[node name="StaticBody3D" type="StaticBody3D" parent="Stage"]
collision_layer = 4

[node name="externalWall" type="CollisionShape3D" parent="Stage/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.7349, 1.25104, -5.08222)
shape = SubResource("BoxShape3D_jau8k")

[node name="externalWall2" type="CollisionShape3D" parent="Stage/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.161, 1.25104, 4.65441)
shape = SubResource("BoxShape3D_k34d7")

[node name="externalWall3" type="CollisionShape3D" parent="Stage/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.17967, 1.25104, -0.724903)
shape = SubResource("BoxShape3D_i8yqo")

[node name="externalWall4" type="CollisionShape3D" parent="Stage/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -21.4554, 1.25104, -6.03532)
shape = SubResource("BoxShape3D_q6i7a")

[node name="Tablet" parent="Stage" instance=ExtResource("4_nyxmf")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -0.0426037, 2.5, -5.29767)

[node name="ActionLabel" parent="Stage/Tablet/Tablet" index="0"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -0.0538203, 2.5, -0.978088)

[node name="CollisionShape3D" parent="Stage/Tablet/Tablet" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.408002, 0.664923, -0.822002)

[node name="Indicator" parent="Stage/Tablet/Tablet" index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, -0.428793)

[node name="MoorGnivil" type="Node3D" parent="Stage"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -12.1028)
script = ExtResource("8_ku7b2")

[node name="Ceiling" type="MeshInstance3D" parent="Stage/MoorGnivil"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00467682, 3.05618, 1.78071)
cast_shadow = 0
mesh = SubResource("PlaneMesh_a8ryy")
skeleton = NodePath("")

[node name="Nolas" parent="Stage/MoorGnivil" instance=ExtResource("9_iwvg8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.74871)
script = ExtResource("9_l32nb")

[node name="CeilingLight4" type="SpotLight3D" parent="Stage/MoorGnivil"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0.182893, 3.12979, 5.03192)
light_energy = 2.0
shadow_enabled = true
shadow_bias = 0.07
shadow_normal_bias = 3.604
shadow_reverse_cull_face = true
shadow_opacity = 0.75
shadow_blur = 5.218
distance_fade_length = 0.0
spot_range = 30.0
spot_attenuation = 0.812252
spot_angle = 77.8

[node name="CeilingLight2" type="SpotLight3D" parent="Stage/MoorGnivil"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0.21567, 2.93938, -0.952699)
light_energy = 2.0
shadow_enabled = true
shadow_bias = 0.07
shadow_normal_bias = 3.604
shadow_reverse_cull_face = true
shadow_transmittance_bias = -2.875
shadow_opacity = 0.75
shadow_blur = 5.218
distance_fade_length = 0.0
spot_range = 30.0
spot_attenuation = 0.812252
spot_angle = 77.8

[node name="LivingRoom" type="Node3D" parent="Stage"]

[node name="CeilingLight3" type="SpotLight3D" parent="Stage/LivingRoom"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0.406277, 3.02204, 2.89688)
light_energy = 2.0
shadow_enabled = true
shadow_bias = 0.07
shadow_normal_bias = 3.604
shadow_reverse_cull_face = true
shadow_transmittance_bias = -6.832
shadow_opacity = 0.75
shadow_blur = 5.218
distance_fade_length = 0.0
spot_range = 30.0
spot_attenuation = 0.812252
spot_angle = 77.8

[node name="CeilingLight1" type="SpotLight3D" parent="Stage/LivingRoom"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 3.61381, -2.60078)
light_energy = 2.0
shadow_enabled = true
shadow_bias = 0.07
shadow_normal_bias = 3.604
shadow_reverse_cull_face = true
shadow_opacity = 0.75
shadow_blur = 5.218
distance_fade_length = 0.0
spot_range = 30.0
spot_attenuation = 0.812252
spot_angle = 77.8

[node name="LivingRoom" parent="Stage/LivingRoom" instance=ExtResource("4_og77x")]

[node name="Setup" type="Node3D" parent="Stage"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -23.0907, 0, 1.58796)

[node name="CeilingLight5" type="SpotLight3D" parent="Stage/Setup"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 1.16548, 2.53399, 2.21761)
light_color = Color(0.419608, 0.419608, 0.419608, 1)
shadow_enabled = true
shadow_bias = 0.07
shadow_normal_bias = 3.604
shadow_reverse_cull_face = true
shadow_transmittance_bias = -2.875
shadow_opacity = 0.75
shadow_blur = 5.218
distance_fade_length = 0.0
spot_range = 30.0
spot_attenuation = 0.812252
spot_angle = 77.8

[node name="CeilingLight6" type="SpotLight3D" parent="Stage/Setup"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 1.28532, 2.27513, -1.91125)
light_color = Color(0.419608, 0.419608, 0.419608, 1)
shadow_enabled = true
shadow_bias = 0.07
shadow_normal_bias = 3.604
shadow_reverse_cull_face = true
shadow_opacity = 0.75
shadow_blur = 5.218
distance_fade_length = 0.0
spot_range = 30.0
spot_attenuation = 0.812252
spot_angle = 77.8

[node name="setup" parent="Stage/Setup" instance=ExtResource("11_qjeg8")]

[editable path="Stage/Tablet"]
[editable path="Stage/Tablet/Tablet"]

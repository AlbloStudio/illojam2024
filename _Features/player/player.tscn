[gd_scene load_steps=11 format=3 uid="uid://dpkgwkvewfmuh"]

[ext_resource type="Script" path="res://_Features/player/player.gd" id="1_nic3o"]
[ext_resource type="Script" path="res://_Features/common/state_machine/finite_state_machine.gd" id="2_bky17"]
[ext_resource type="Texture2D" uid="uid://bcqu5yfbo7isa" path="res://_Features/player/textures/nakedbody.png" id="2_n00nq"]
[ext_resource type="Script" path="res://_Features/player/states/player_state_controlled.gd" id="3_1flnn"]
[ext_resource type="Script" path="res://_Features/player/states/player_state_puppet.gd" id="4_iboom"]
[ext_resource type="PackedScene" uid="uid://bwc8d10l0135e" path="res://_Features/player/player_i.tscn" id="5_e0hf5"]
[ext_resource type="Shader" path="res://_Features/player/pixelation.gdshader" id="7_ic2mv"]

[sub_resource type="SphereMesh" id="SphereMesh_8bekt"]
radius = 0.388
height = 0.485

[sub_resource type="ShaderMaterial" id="ShaderMaterial_e3smv"]
render_priority = 0
shader = ExtResource("7_ic2mv")
shader_parameter/pixel_size = 8

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_7fb6b"]
radius = 0.4
height = 1.75

[node name="Player" type="CharacterBody3D"]
transform = Transform3D(-0.994522, 0, -0.104528, 0, 1, 0, 0.104528, 0, -0.994522, -0.0198236, -0.00924486, -0.0272166)
collision_mask = 6
script = ExtResource("1_nic3o")
naked_texture = ExtResource("2_n00nq")
acceleration = 8.0
intertia = 10.0

[node name="Pixelation" type="MeshInstance3D" parent="."]
transform = Transform3D(0.994522, 0, -0.104528, 0, 1, 0, 0.104528, 0, 0.994522, 0, 2.28867, 0)
visible = false
mesh = SubResource("SphereMesh_8bekt")
surface_material_override/0 = SubResource("ShaderMaterial_e3smv")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.685339, 0)
shape = SubResource("CapsuleShape3D_7fb6b")

[node name="FiniteStateMachine" type="Node" parent="."]
script = ExtResource("2_bky17")
initial_state = NodePath("Controlled")

[node name="Controlled" type="Node" parent="FiniteStateMachine"]
script = ExtResource("3_1flnn")

[node name="Puppet" type="Node" parent="FiniteStateMachine"]
script = ExtResource("4_iboom")

[node name="SpeechBubble" type="Node" parent="."]

[node name="SpeechBubbleLabel" type="Label3D" parent="SpeechBubble"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0.936825, 3.99076, -0.342462)
visible = false
text = "Holi, esto es un bocadillo de texto"

[node name="player" parent="." instance=ExtResource("5_e0hf5")]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, 0, 0)

[node name="arms_skeleton" parent="player" index="0"]
transform = Transform3D(0.025348, 0, 0, 0, 0.025348, 1.108e-09, 0, -1.108e-09, 0.025348, 0, 0, 0)

[node name="Skeleton3D" parent="player/arms_skeleton" index="0"]
bones/0/position = Vector3(-0.0431143, 38.3074, 0.0930857)
bones/0/rotation = Quaternion(-0.031265, -0.0465322, -0.0288866, 0.998009)
bones/1/rotation = Quaternion(0.479438, 0.522129, 0.485389, 0.51178)
bones/2/rotation = Quaternion(0.00377923, 0.0141048, -0.000309228, 0.999893)
bones/3/rotation = Quaternion(0.00426002, 0.0139671, 0.0627095, 0.997925)
bones/4/rotation = Quaternion(0.00619205, 0.0132246, 0.107091, 0.994142)
bones/5/rotation = Quaternion(0.968371, 0.249482, -0.00397908, -0.000619432)
bones/6/rotation = Quaternion(0.0105399, 0.00581763, 0.265296, 0.964092)
bones/12/rotation = Quaternion(0.371262, -0.14991, -0.493815, 0.771906)
bones/13/position = Vector3(11.6925, -5.43187e-05, -1.64297e-05)
bones/13/rotation = Quaternion(-5.1108e-08, 4.6399e-07, -0.0583979, 0.998293)
bones/14/rotation = Quaternion(-0.612848, -0.0922675, -0.0375216, 0.783898)
bones/17/rotation = Quaternion(0.209622, -0.0154449, -0.206884, 0.95552)
bones/18/rotation = Quaternion(-0.00131592, -0.0627347, -0.138505, 0.988372)
bones/19/rotation = Quaternion(0.00646473, -0.0618634, -0.251076, 0.965967)
bones/21/rotation = Quaternion(0.075971, 0.0301381, -0.15549, 0.984451)
bones/22/position = Vector3(1.53913, -1.51992e-05, -5.96046e-06)
bones/22/rotation = Quaternion(-0.000363643, -0.0256804, -0.180521, 0.983236)
bones/23/rotation = Quaternion(0.00294499, -0.025922, -0.362023, 0.931804)
bones/25/rotation = Quaternion(-0.0380237, 0.0494265, -0.10321, 0.992703)
bones/26/rotation = Quaternion(-0.000693905, 0.0140929, -0.151392, 0.988373)
bones/27/rotation = Quaternion(-0.00218453, 0.0128725, -0.265693, 0.963969)
bones/29/rotation = Quaternion(-0.16335, 0.0724471, -0.0195919, 0.98371)
bones/30/rotation = Quaternion(-0.000697671, 0.0509669, -0.142977, 0.988413)
bones/31/position = Vector3(1.09964, -9.53674e-07, 1.85966e-05)
bones/31/rotation = Quaternion(-0.00334794, 0.0211037, -0.187382, 0.982055)
bones/33/position = Vector3(0.838813, -0.311187, -1.31024)
bones/33/rotation = Quaternion(0.664806, 0.108666, -0.322506, 0.664992)
bones/34/position = Vector3(1.78978, -2.93367e-06, 2.04421e-05)
bones/34/rotation = Quaternion(-0.0763791, 0.0841233, 0.300918, 0.946857)
bones/35/rotation = Quaternion(0.101358, 0.143635, 0.184334, 0.967014)
bones/50/position = Vector3(6.02813, -0.000146651, 0.000117891)
bones/50/rotation = Quaternion(-0.383676, 0.224306, -0.514634, 0.733234)
bones/51/rotation = Quaternion(-1.31408e-05, 1.47535e-07, -0.0127393, 0.999919)
bones/52/rotation = Quaternion(0.524759, 0.0702854, -0.0503876, 0.846847)
bones/55/rotation = Quaternion(-0.210685, 0.020702, -0.211647, 0.954143)
bones/56/rotation = Quaternion(0.00107204, 0.0649097, -0.137499, 0.988372)
bones/57/rotation = Quaternion(-0.00686346, 0.063378, -0.250133, 0.966111)
bones/59/rotation = Quaternion(-0.0771269, -0.0264255, -0.161236, 0.983543)
bones/60/rotation = Quaternion(0.000270657, 0.0284331, -0.180127, 0.983232)
bones/61/rotation = Quaternion(-0.00385807, 0.0271562, -0.3617, 0.931891)
bones/63/rotation = Quaternion(0.0375474, -0.0470763, -0.109375, 0.992175)
bones/64/rotation = Quaternion(0.000457017, -0.0119766, -0.151476, 0.988388)
bones/65/rotation = Quaternion(0.00174735, -0.0113085, -0.26581, 0.963958)
bones/67/rotation = Quaternion(0.162921, -0.0718978, -0.0261738, 0.983668)
bones/68/rotation = Quaternion(0.000473633, -0.0490029, -0.143663, 0.988413)
bones/69/rotation = Quaternion(0.00307568, -0.0210098, -0.187723, 0.981993)
bones/70/position = Vector3(2.35438e-06, 0.246848, 4.17233e-07)
bones/71/rotation = Quaternion(-0.666291, -0.0989518, -0.307768, 0.67197)
bones/72/rotation = Quaternion(0.142943, -0.425797, 0.134834, 0.883224)
bones/73/rotation = Quaternion(-0.119663, -0.698252, 0.408547, 0.575512)
bones/87/rotation = Quaternion(-0.456407, 0.449443, -0.51824, 0.566676)
bones/88/rotation = Quaternion(0.0853574, 0.0270206, 0.0708843, 0.993458)
bones/89/rotation = Quaternion(0.0494403, -0.00812641, -0.52016, 0.852598)
bones/90/rotation = Quaternion(-0.0353456, 0.0114951, -0.348029, 0.936747)
bones/92/rotation = Quaternion(-0.635479, 0.484949, -0.42399, 0.425704)
bones/93/rotation = Quaternion(-0.0163281, -0.0374738, 0.132151, 0.990386)
bones/94/rotation = Quaternion(-0.0536849, 0.0423525, -0.489415, 0.869366)
bones/95/rotation = Quaternion(-0.0060232, 0.000235511, -0.328949, 0.944328)

[node name="head_001" parent="player/arms_skeleton/Skeleton3D" index="3"]
transform = Transform3D(1, 4.44089e-16, 7.45058e-09, 4.44089e-16, 1, 3.55271e-15, -7.45058e-09, 0, 1, 0, 0, 0)

[node name="AnimationPlayer" parent="player" index="1"]
autoplay = "arms_skeleton_001|mixamo_com|Layer0"
playback_default_blend_time = 0.1

[editable path="player"]
